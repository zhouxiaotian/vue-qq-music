(function(){"use strict";var t={5243:function(t,i,e){var s=e(144),r=function(){var t=this,i=t._self._c;return i("div",{staticStyle:{"max-width":"540px"},attrs:{id:"app"}},[i("music-page")],1)},a=[],n=function(){var t=this,i=t._self._c;return t.info?i("div",{staticClass:"music-box"},[i("header",{staticClass:"header-box"},[i("div",{staticClass:"base"},[i("div",{staticClass:"cover"},[i("img",{attrs:{src:t.info.pic,alt:""}})]),i("div",{staticClass:"info"},[i("h2",{staticClass:"title"},[t._v(t._s(t.info.title))]),i("h3",{staticClass:"author"},[t._v(t._s(t.info.author))])])]),i("a",{class:{"player-button":!0,move:t.isPlay},attrs:{href:"javascript:;"},on:{click:t.handle}})]),i("main",{staticClass:"main-box"},[i("div",{staticClass:"wrapper",style:{transform:`translateY(${t.y}px)`}},t._l(t.lyricList,(function(e){return i("p",{key:e.id,ref:"para",refInFor:!0,class:{active:e.active}},[t._v(" "+t._s(e.text)+" ")])})),0)]),i("footer",{staticClass:"footer-box"},[i("div",{staticClass:"bar"},[i("span",{staticClass:"time current"},[t._v(t._s(t.time.current))]),i("div",{staticClass:"progress"},[i("div",{staticClass:"already",style:{width:t.already}})]),i("span",{staticClass:"time duration"},[t._v(t._s(t.time.duration))])]),i("a",{staticClass:"download",attrs:{href:"#"}},[t._v("下载这首音乐")])]),i("audio",{ref:"myAudio",staticClass:"audio-box",attrs:{src:t.info.audio,preload:"metadata"}}),i("div",{staticClass:"mark-image",style:{backgroundImage:`url(${t.info.pic})`}}),i("div",{staticClass:"mark-overlay"})]):i("div",{staticClass:"loading-box"},[t._m(0)])},o=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"content"},[i("img",{attrs:{src:e(9163),alt:""}}),i("span",[t._v("奴家正在努力加载中...")])])}];e(7658);const c=function(t){let i=Math.floor(t/60),e=Math.round(t-60*i);return i=i<10?"0"+i:""+i,e=e<10?"0"+e:""+e,{minutes:i,seconds:e}};var u={name:"MusicPage",data(){return{info:null,isPlay:!1,lyricList:[],y:0,num:0,already:"0%",time:{current:"00:00",duration:"00:00"}}},methods:{formatLyric(t){t=t.replace(/&#(\d+);/g,((t,i)=>{let e=t;switch(+i){case 32:e=" ";break;case 40:e="(";break;case 41:e=")";break;case 45:e="-";break;default:}return e}));let i=[],e=0;t.replace(/\[(\d+)&#58;(\d+)&#46;(?:\d+)\]([^&#?]+)(?:&#10;)?/g,((t,s,r,a)=>{i.push({id:++e,minutes:s,seconds:r,text:a,active:!1})})),this.lyricList=i},handle(){const t=this.$refs.myAudio;if(t.paused)return t.play(),this.isPlay=!0,this.playing(),void(this.timer||(this.timer=setInterval(this.playing,1e3)));t.pause(),this.isPlay=!1,clearInterval(this.timer),this.timer=null},playing(){let t=this.$refs.myAudio,{currentTime:i,duration:e}=t;if(isNaN(i)||isNaN(e))return;let{minutes:s,seconds:r}=c(i),{minutes:a,seconds:n}=c(e);if(i>=e)return void this.playend();this.time.current=`${s}:${r}`,this.time.duration=`${a}:${n}`,this.already=i/e*100+"%";let o=this.lyricList.filter((t=>t.minutes===s&&t.seconds===r));0!==o.length&&(this.lyricList.forEach((t=>{t.active=o.includes(t)})),this.num+=o.length,this.num>3&&(this.y=-(this.num-3)*this.$refs.para[0].offsetHeight))},playend(){clearInterval(this.timer),this.timer=null,this.time.current="00:00",this.already="0%",this.y=0,this.num=0,this.isPlay=!1,this.lyricList((t=>t.active=!1))}},async created(){try{let{code:t,data:i}=await this.$API.queryLyric();if(0===+t)return this.info=Object.freeze(i),this.time.duration=i.duration,void this.formatLyric(i.lyric)}catch(t){}alert("获取数据失败！请稍后再试！")}},l=u,d=e(1001),f=(0,d.Z)(l,n,o,!1,null,"2debdd56",null),h=f.exports,m={name:"App",components:{MusicPage:h}},p=m,v=(0,d.Z)(p,r,a,!1,null,null,null),y=v.exports;const g=()=>{const t={code:0,message:"ok",data:{title:"我的梦 - 华为手机主题曲",author:"张靓颖",duration:"03:39",pic:"https://zxt_team.gitee.io/opensource/qqmusic/mydream.jpg",audio:"https://zxt_team.gitee.io/opensource/qqmusic/mydream.m4a",lyric:"[ti&#58;《我的梦》]&#10;[ar&#58;张靓颖]&#10;[al&#58;]&#10;[by&#58;]&#10;[offset&#58;0]&#10;[00&#58;01&#46;36]我的梦&#32;&#40;华为手机主题曲&#41;&#32;&#45;&#32;张靓颖&#10;[00&#58;02&#46;11]词：王海涛/张靓颖&#10;[00&#58;02&#46;64]曲：Andy&#32;Love&#10;[00&#58;03&#46;48]编曲：崔迪&#10;[00&#58;04&#46;49]&#10;[00&#58;08&#46;73]一直地一直地往前走&#10;[00&#58;11&#46;65]&#10;[00&#58;13&#46;02]疯狂的世界&#10;[00&#58;14&#46;58]&#10;[00&#58;16&#46;68]迎着痛把眼中所有梦&#10;[00&#58;20&#46;52]&#10;[00&#58;21&#46;03]都交给时间&#10;[00&#58;22&#46;71]&#10;[00&#58;24&#46;24]想飞就用心地去飞&#10;[00&#58;26&#46;98]谁不经历狼狈&#10;[00&#58;30&#46;68]&#10;[00&#58;31&#46;60]我想我会忽略失望的灰&#10;[00&#58;34&#46;99]拥抱遗憾的美&#10;[00&#58;39&#46;05]我的梦说别停留等待&#10;[00&#58;43&#46;94]就让光芒折射泪湿的瞳孔&#10;[00&#58;47&#46;74]映出心中最想拥有的彩虹&#10;[00&#58;51&#46;78]带我奔向那片有你的天空&#10;[00&#58;55&#46;74]因为你是我的梦&#10;[01&#58;01&#46;06]&#10;[01&#58;07&#46;19]我的梦&#10;[01&#58;08&#46;72]&#10;[01&#58;16&#46;75]执着地勇敢地不回头&#10;[01&#58;20&#46;29]&#10;[01&#58;21&#46;05]穿过了黑夜踏过了边界&#10;[01&#58;24&#46;87]路过雨路过风往前冲&#10;[01&#58;28&#46;39]&#10;[01&#58;28&#46;96]总会有一天站在你身边&#10;[01&#58;32&#46;52]泪就让它往下坠&#10;[01&#58;35&#46;00]溅起伤口的美&#10;[01&#58;38&#46;60]&#10;[01&#58;39&#46;55]哦别以为失去的最宝贵&#10;[01&#58;43&#46;00]才让今天浪费&#10;[01&#58;47&#46;04]我的梦说别停留等待&#10;[01&#58;51&#46;93]就让光芒折射泪湿的瞳孔&#10;[01&#58;55&#46;66]映出心中最想拥有的彩虹&#10;[01&#58;59&#46;75]带我奔向那片有你的天空&#10;[02&#58;03&#46;67]因为你是我的梦&#10;[02&#58;09&#46;14]&#10;[02&#58;11&#46;72]我的梦&#10;[02&#58;13&#46;09]&#10;[02&#58;15&#46;13]我的梦&#10;[02&#58;16&#46;64]&#10;[02&#58;19&#46;60]我的梦&#10;[02&#58;21&#46;39]&#10;[02&#58;24&#46;27]世界会怎么变化&#10;[02&#58;26&#46;58]都不是意外&#10;[02&#58;28&#46;33]记得用心去回答&#10;[02&#58;30&#46;52]命运的精彩&#10;[02&#58;32&#46;34]世界会怎么变化&#10;[02&#58;34&#46;51]都离不开爱&#10;[02&#58;36&#46;25]记得成长的对话&#10;[02&#58;38&#46;28]&#10;[02&#58;39&#46;11]勇敢地说我不再等待&#10;[02&#58;45&#46;63]就让光芒折射泪湿的瞳孔&#10;[02&#58;49&#46;75]映出心中最想拥有的彩虹&#10;[02&#58;53&#46;74]带我奔向那片有你的天空&#10;[02&#58;57&#46;73]因为你是我的梦&#10;[03&#58;02&#46;71]&#10;[03&#58;05&#46;51]我的梦&#10;[03&#58;07&#46;32]&#10;[03&#58;09&#46;20]我的梦&#10;[03&#58;14&#46;12]因为你是我的梦"}};return new Promise((i=>{setTimeout((()=>{i(t)}),Math.round(1500*Math.random()+500))}))},b={queryLyric:g};var _=b,C=(e(1847),e(3723)),x=e.n(C);x().attach(document.body),s.ZP.prototype.$API=_,s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(y)}).$mount("#app")},9163:function(t,i,e){t.exports=e.p+"img/loading.c6bb5552.gif"}},i={};function e(s){var r=i[s];if(void 0!==r)return r.exports;var a=i[s]={exports:{}};return t[s].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(i,s,r,a){if(!s){var n=1/0;for(l=0;l<t.length;l++){s=t[l][0],r=t[l][1],a=t[l][2];for(var o=!0,c=0;c<s.length;c++)(!1&a||n>=a)&&Object.keys(e.O).every((function(t){return e.O[t](s[c])}))?s.splice(c--,1):(o=!1,a<n&&(n=a));if(o){t.splice(l--,1);var u=r();void 0!==u&&(i=u)}}return i}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[s,r,a]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){e.p=""}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var r,a,n=s[0],o=s[1],c=s[2],u=0;if(n.some((function(i){return 0!==t[i]}))){for(r in o)e.o(o,r)&&(e.m[r]=o[r]);if(c)var l=c(e)}for(i&&i(s);u<n.length;u++)a=n[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(l)},s=self["webpackChunkvue_qq_music"]=self["webpackChunkvue_qq_music"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(5243)}));s=e.O(s)})();